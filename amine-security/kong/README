# 🛡️ Stack Kong + Konga + PostgreSQL + ModSecurity + Suricata

Ce projet met en place une stack complète de gestion d’API avec **Kong**, son interface web **Konga**, une base de données **PostgreSQL**, un pare-feu applicatif **ModSecurity**, et un IDS/IPS **Suricata**. L’objectif est de créer une passerelle d’API sécurisée et facilement administrable.

---

## 📦 Services inclus

| Service       | Description                                          | Port(s) Exposés |
|---------------|------------------------------------------------------|------------------|
| **PostgreSQL** | Base de données utilisée par Kong et Konga          | 5432             |
| **Adminer**    | Interface web simple pour gérer PostgreSQL          | 9080             |
| **Kong**       | API Gateway                                          | 8000 (HTTP), 8443 (HTTPS), 8001 (Admin) |
| **Konga**      | Interface d’administration de Kong                  | 1337             |
| **ModSecurity**| Pare-feu applicatif WAF (connecté à Kong)          | 80               |
| **Suricata**   | IDS/IPS pour surveiller le trafic réseau            | N/A (mode host)  |

---

## 🚀 Démarrage rapide

### 1. Cloner ce dépôt (ou coller les fichiers nécessaires)
```bash
git clone <URL_DU_DEPOT>
cd <nom_du_projet>

2. Lancer la stack avec Docker Compose
```bash
docker-compose up -d

3. Structure du projet
```
.
├── docker-compose.yml
├── modsecurity/
│   └── ... fichiers de config ModSecurity ...
├── suricata/
│   ├── logs/
│   └── ... fichiers de config Suricata ...

4. Accès aux services
- **Kong Admin**: http://localhost:8001
- **Kong Gateway**: http://localhost:8000
- **Konga**: http://localhost:1337
- **Adminer**: http://localhost:9080
- **ModSecurity**: intégré à Kong, pas d'interface dédiée
- **Suricata**: logs disponibles dans le dossier `suricata/logs`

5. Ordre de démarrage
1. kong-database
2. kong_migrations
3. konga-prepare
4. kong
5. konga
6. modsecurity
7. suricata

6. Arrêter la stack
```bash
docker-compose down

